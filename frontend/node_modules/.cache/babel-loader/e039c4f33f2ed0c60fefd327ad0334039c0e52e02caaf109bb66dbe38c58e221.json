{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\n//import Cookies from 'js-cookie';\nimport ErrorMsg from '../components/ErrorMsg.vue';\nexport default {\n  name: \"UserLoginForm\",\n  components: {\n    ErrorMsg\n  },\n  data() {\n    return {\n      FormValues: {\n        email: \"\",\n        password: \"\"\n      },\n      error: \"\"\n    };\n  },\n  methods: {\n    async handleSubmit() {\n      try {\n        const response = await axios.post(\"http://localhost:8080/api/auth/login\", this.FormValues);\n        localStorage.setItem('token', response.data.jwt);\n        this.$router.push({\n          name: \"HomePage\"\n        });\n        this.$store.commit('updateUser', response.data);\n        if (response.data.role == 'ROLE_ADMIN') {\n          this.$store.commit('updateTypeAdmin', response.data);\n          this.$store.commit('updateTypeEmp', null);\n          this.$store.commit('updateTypeClient', null);\n        } else if (response.data.role == 'ROLE_EMPLOYE') {\n          this.$store.commit('updateTypeEmp', response.data);\n          this.$store.commit('updateTypeAdmin', null);\n          this.$store.commit('updateTypeClient', null);\n        } else if (response.data.role == 'ROLE_CLIENT') {\n          this.$store.commit('updateTypeClient', response.data);\n          this.$store.commit('updateTypeAdmin', null);\n          this.$store.commit('updateTypeEmp', null);\n        }\n      } catch (e) {\n        this.FormValues.error = \"Invalid Email/Password.\";\n      }\n    }\n  },\n  computed: {\n    user() {\n      return this.$store.state.user;\n    },\n    type_admin() {\n      return this.$store.state.type_admin;\n    },\n    type_emp() {\n      return this.$store.state.type_emp;\n    },\n    type_client() {\n      return this.$store.state.type_client;\n    }\n  }\n};","map":{"version":3,"names":["axios","ErrorMsg","name","components","data","FormValues","email","password","error","methods","handleSubmit","response","post","localStorage","setItem","jwt","$router","push","$store","commit","role","e","computed","user","state","type_admin","type_emp","type_client"],"sources":["C:\\Users\\Ben Ali Sabeur\\Documents\\GitHub\\baladeyti\\frontend\\src\\views\\UserLoginForm.vue"],"sourcesContent":["<template>\r\n  <div class=\"col-md-10 container-fluid row\">\r\n    \r\n    <div class=\"col-md-6 div1 text-center\">\r\n      <div class=\"container text-center\">\r\n        <br>\r\n      \r\n      <form @submit.prevent=\"handleSubmit\" method=\"post\">\r\n          <h1>Se Connecter</h1> <br>\r\n        <div class=\"form-group\">\r\n          <input class=\"form-control\" required placeholder=\"Email\" type=\"email\" name=\"email\" id=\"email\" v-model.trim=\"FormValues.email\"><br>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <input class=\"form-control\" required placeholder=\"Password\" type=\"password\" name=\"password\" id=\"password\" v-model.trim=\"FormValues.password\"><br>\r\n        </div>\r\n\r\n        <ErrorMsg v-if=\"FormValues.error\" :error=\"FormValues.error\"/>\r\n        \r\n        <button class=\"btn signup\"> Soumettre</button>\r\n      </form>\r\n    </div>\r\n    </div>\r\n\r\n    <div class=\"col-md-6 div2 text-center\">\r\n      <br><br><br><br><br><br><br><br>\r\n      <span class=\"span1\">Contents de vous revoir !</span><br>\r\n      <span class=\"span2\">Entrez vos données personnelles et commencez à naviguer avec nous</span>\r\n      <div>\r\n        <router-link to=\"/userREgister\">\r\n          <button class=\"btn login\">S'inscrire</button>\r\n      </router-link>\r\n      </div>\r\n    </div>\r\n  \r\n</div>\r\n  <ErrorMsg v-if=\"error\" :error=\"error\"/>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n//import Cookies from 'js-cookie';\r\nimport ErrorMsg from '../components/ErrorMsg.vue'\r\nexport default {\r\n    name : \"UserLoginForm\",\r\n    components : {\r\n    ErrorMsg,\r\n},\r\n    data(){\r\n        return {\r\n            FormValues:{\r\n                email : \"\",\r\n                password :\"\",\r\n            }, \r\n            error:\"\"\r\n        }\r\n    },\r\n    methods : {\r\n      async handleSubmit(){\r\n        \r\n        try {\r\n        const response = await axios.post(\"http://localhost:8080/api/auth/login\",this.FormValues);\r\n        \r\n        localStorage.setItem('token',response.data.jwt);\r\n        \r\n        this.$router.push({name : \"HomePage\"});\r\n         \r\n\r\n        this.$store.commit('updateUser',response.data); \r\n        \r\n\r\n        if (response.data.role == 'ROLE_ADMIN'){\r\n          this.$store.commit('updateTypeAdmin',response.data);\r\n          this.$store.commit('updateTypeEmp',null);\r\n          this.$store.commit('updateTypeClient',null);\r\n          \r\n        }  \r\n        \r\n         else if (response.data.role == 'ROLE_EMPLOYE'){\r\n          this.$store.commit('updateTypeEmp',response.data);\r\n          this.$store.commit('updateTypeAdmin',null);\r\n          this.$store.commit('updateTypeClient',null);\r\n        } \r\n        \r\n         else if (response.data.role == 'ROLE_CLIENT'){\r\n          this.$store.commit('updateTypeClient',response.data);\r\n          this.$store.commit('updateTypeAdmin',null);\r\n          this.$store.commit('updateTypeEmp',null);\r\n        } \r\n\r\n        }\r\n        catch(e){\r\n          this.FormValues.error = \"Invalid Email/Password.\"; \r\n        }\r\n      }\r\n    },\r\n\r\n    computed : {\r\n      user(){\r\n        return this.$store.state.user;\r\n      },\r\n      type_admin(){\r\n        return this.$store.state.type_admin;\r\n      },\r\n      type_emp(){\r\n        return this.$store.state.type_emp;\r\n      },\r\n      type_client(){\r\n        return this.$store.state.type_client;\r\n      },\r\n      \r\n    }\r\n  \r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  .container-fluid{\r\n    position: relative;\r\n    bottom: 120px;\r\n    left: 100px;\r\n    height: 500px;\r\n  }\r\n\r\n\r\n  .div2{\r\n      background-image: linear-gradient(90deg,#c58efc, #9e3ffd);\r\n      border-top-right-radius: 15px;\r\n      border-bottom-right-radius: 15px;\r\n  }\r\n\r\n    .div1{\r\n      \r\n      background-image: linear-gradient(-90deg,#ffffff, #f8f8f8);\r\n      border-top-left-radius: 15px;\r\n      border-bottom-left-radius: 15px;\r\n  }\r\n\r\n  .span1{\r\n    font-family: Century Gothic;\r\n    font-size: 35px;\r\n    font-weight: bolder;\r\n    color: white;\r\n    position: relative;\r\n    bottom: 50px;\r\n    justify-content: center;\r\n  }\r\n\r\n   .span2{\r\n    font-family: Century Gothic;\r\n    font-size: 16px;\r\n    color: white;\r\n    position: relative;\r\n    bottom: 40px;\r\n    text-align: center;\r\n    margin: 20px;\r\n  }\r\n\r\n\r\n\r\n  h1{\r\n    font-size: 40px;\r\n    font-family: Century Gothic;\r\n    font-weight: bold;\r\n\r\n  }\r\n\r\n  .signup{\r\n  border-color: #9e3ffd;\r\n  color:white;\r\n  background-color: #9e3ffd;\r\n  border-radius: 115px;\r\n  width: 153px;\r\n  height: 52px;\r\n  padding: 0.5rem 1rem;\r\n  font-size: 18px;\r\n  font-family: Century Gothic;\r\n}\r\n\r\n.signup:hover{\r\n  border-color: #190131;\r\n  background-color: #190131;\r\n  color : white;\r\n  transition: 0.5s;\r\n}\r\n\r\n.login{\r\n  border-color: #ffffff;\r\n  color:#ffffff;\r\n  background-color: none;\r\n  border-radius: 115px;\r\n  width: 153px;\r\n  height: 52px;\r\n  padding: 0.5rem 1rem;\r\n  font-size: 18px;\r\n  font-family: Century Gothic;\r\n  text-align: center;\r\n}\r\n\r\n.login:hover{\r\n   border-color: #190131;\r\n  background-color: #190131;\r\n  color : white;\r\n  transition: 0.5s;\r\n}\r\n\r\nform{\r\n  position: relative;\r\n  top: 80px;\r\n}\r\n\r\n</style>"],"mappings":";AAwCA,OAAOA,KAAI,MAAO,OAAM;AACxB;AACA,OAAOC,QAAO,MAAO,4BAA2B;AAChD,eAAe;EACXC,IAAG,EAAI,eAAe;EACtBC,UAAS,EAAI;IACbF;EACJ,CAAC;EACGG,IAAIA,CAAA,EAAE;IACF,OAAO;MACHC,UAAU,EAAC;QACPC,KAAI,EAAI,EAAE;QACVC,QAAO,EAAG;MACd,CAAC;MACDC,KAAK,EAAC;IACV;EACJ,CAAC;EACDC,OAAM,EAAI;IACR,MAAMC,YAAYA,CAAA,EAAE;MAElB,IAAI;QACJ,MAAMC,QAAO,GAAI,MAAMX,KAAK,CAACY,IAAI,CAAC,sCAAsC,EAAC,IAAI,CAACP,UAAU,CAAC;QAEzFQ,YAAY,CAACC,OAAO,CAAC,OAAO,EAACH,QAAQ,CAACP,IAAI,CAACW,GAAG,CAAC;QAE/C,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;UAACf,IAAG,EAAI;QAAU,CAAC,CAAC;QAGtC,IAAI,CAACgB,MAAM,CAACC,MAAM,CAAC,YAAY,EAACR,QAAQ,CAACP,IAAI,CAAC;QAG9C,IAAIO,QAAQ,CAACP,IAAI,CAACgB,IAAG,IAAK,YAAY,EAAC;UACrC,IAAI,CAACF,MAAM,CAACC,MAAM,CAAC,iBAAiB,EAACR,QAAQ,CAACP,IAAI,CAAC;UACnD,IAAI,CAACc,MAAM,CAACC,MAAM,CAAC,eAAe,EAAC,IAAI,CAAC;UACxC,IAAI,CAACD,MAAM,CAACC,MAAM,CAAC,kBAAkB,EAAC,IAAI,CAAC;QAE7C,OAEM,IAAIR,QAAQ,CAACP,IAAI,CAACgB,IAAG,IAAK,cAAc,EAAC;UAC7C,IAAI,CAACF,MAAM,CAACC,MAAM,CAAC,eAAe,EAACR,QAAQ,CAACP,IAAI,CAAC;UACjD,IAAI,CAACc,MAAM,CAACC,MAAM,CAAC,iBAAiB,EAAC,IAAI,CAAC;UAC1C,IAAI,CAACD,MAAM,CAACC,MAAM,CAAC,kBAAkB,EAAC,IAAI,CAAC;QAC7C,OAEM,IAAIR,QAAQ,CAACP,IAAI,CAACgB,IAAG,IAAK,aAAa,EAAC;UAC5C,IAAI,CAACF,MAAM,CAACC,MAAM,CAAC,kBAAkB,EAACR,QAAQ,CAACP,IAAI,CAAC;UACpD,IAAI,CAACc,MAAM,CAACC,MAAM,CAAC,iBAAiB,EAAC,IAAI,CAAC;UAC1C,IAAI,CAACD,MAAM,CAACC,MAAM,CAAC,eAAe,EAAC,IAAI,CAAC;QAC1C;MAEA,EACA,OAAME,CAAC,EAAC;QACN,IAAI,CAAChB,UAAU,CAACG,KAAI,GAAI,yBAAyB;MACnD;IACF;EACF,CAAC;EAEDc,QAAO,EAAI;IACTC,IAAIA,CAAA,EAAE;MACJ,OAAO,IAAI,CAACL,MAAM,CAACM,KAAK,CAACD,IAAI;IAC/B,CAAC;IACDE,UAAUA,CAAA,EAAE;MACV,OAAO,IAAI,CAACP,MAAM,CAACM,KAAK,CAACC,UAAU;IACrC,CAAC;IACDC,QAAQA,CAAA,EAAE;MACR,OAAO,IAAI,CAACR,MAAM,CAACM,KAAK,CAACE,QAAQ;IACnC,CAAC;IACDC,WAAWA,CAAA,EAAE;MACX,OAAO,IAAI,CAACT,MAAM,CAACM,KAAK,CAACG,WAAW;IACtC;EAEF;AAEJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}